# monitor-go

## Purpose

A background monitoring service that collects system metrics, discovers networks and hosts, and scans for open ports. Works with the [php-monitor](https://github.com/sfonzo96/php-monitor) API to send collected data for centralized monitoring.

## Features

- **System Metrics**: CPU and memory usage monitoring
- **Network Discovery**: Local network scanning and mapping
- **Host Detection**: Active host identification on networks
- **Port Scanning**: Open port detection on specific IP addresses
- **API Integration**: Automatic data transmission with JWT authentication

## Installation

1. Clone this repository
2. Install dependencies:
   ```bash
   go mod tidy
   ```
3. Build the application:
   ```bash
   go build -o monitor-go
   ```

## Configuration

Create a `.env` file in the project root with the following variables:

```
API_BASE_URL=http://your-monitoring-api.com
LOGIN_USER=your_username
LOGIN_PASSWORD=your_password
DB_HOST=localhost:3306
DB_USER=database_user
DB_PASSWORD=database_password
DB_NAME=monitor_database
```

## Usage

The application provides four main monitoring commands:

### Collect System Metrics
```bash
./monitor-go metrics --interval 30
```
Collects system performance metrics every 30 seconds.

### Discover Networks
```bash
./monitor-go networks --interval 300
```
Scans for available networks every 5 minutes.

### Scan for Hosts
```bash
./monitor-go hosts --interval 60
```
Discovers active hosts every minute.

### Scan Ports
```bash
./monitor-go ports --ip 192.168.1.100 --range 1-1024
```
Scans ports 1-1024 on the specified IP address to identify open services.

## Dependencies

- Go 1.24.7 or later
- github.com/shirou/gopsutil/v4 - System metrics collection
- github.com/spf13/cobra - Command line interface
- github.com/spf13/viper - Configuration management
- github.com/joho/godotenv - Environment variable loading
- github.com/go-sql-driver/mysql - Database connectivity

## License

This project is licensed under the terms specified in the LICENSE file.

## Documentation

This README was generated by GitHub Copilot and reviewed by the project maintainer.